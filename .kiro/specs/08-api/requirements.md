# API REST 接口 — 需求文档

## 模块定位
系统对外暴露的 REST API 接口，提供状态查询、监控和管理功能。

## 功能需求

### FR-1: 系统状态接口
- FR-1.1: 获取当前系统状态
- FR-1.2: 获取状态历史
- FR-1.3: 强制锁定系统（需认证）

### FR-2: 策略/证人接口
- FR-2.1: 获取所有证人列表
- FR-2.2: 获取证人详情
- FR-2.3: 获取证人健康度
- FR-2.4: 静默/激活证人

### FR-3: 风控接口
- FR-3.1: 获取风控状态
- FR-3.2: 获取风控事件列表
- FR-3.3: 请求解锁（需认证）

### FR-4: 执行接口
- FR-4.1: 获取订单列表
- FR-4.2: 获取订单详情
- FR-4.3: 获取当前仓位
- FR-4.4: 撤销订单

### FR-5: 数据接口
- FR-5.1: 获取 K 线数据
- FR-5.2: 获取资金费率
- FR-5.3: 获取清算数据

### FR-6: 学习接口
- FR-6.1: 获取学习报告
- FR-6.2: 获取优化建议
- FR-6.3: 审批优化建议

### FR-7: 认证与授权
- FR-7.1: API Key 认证
- FR-7.2: 权限分级
- FR-7.3: 操作审计

## 非功能需求

### NFR-1: 响应时间
- 查询接口 < 100ms
- 写入接口 < 500ms

### NFR-2: 可用性
- API 可用性 > 99.9%

### NFR-3: 安全性
- HTTPS 加密
- API Key 认证
- 敏感操作需额外权限

### NFR-4: 文档
- 自动生成 OpenAPI 文档
- Swagger UI 可用

## 约束条件
- 使用 FastAPI 框架
- RESTful 设计规范
- JSON 响应格式
- UTC 时间
